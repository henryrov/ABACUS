#ifndef STM32C0_H
#define STM32C0_H

#include <stdint.h>

#define REGISTER_32(ADDRESS) (*((volatile uint32_t *)(ADDRESS)))
#define REGISTER_16(ADDRESS) (*((volatile uint16_t *)(ADDRESS)))

/* ADC Registers */

#define ADC_BASE 0x40012400
#define ADC_ISR REGISTER_32(ADC_BASE + 0x00)
#define ADC_CR REGISTER_32(ADC_BASE + 0x08)
#define ADC_CFGR1 REGISTER_32(ADC_BASE + 0x0C)
#define ADC_SMPR REGISTER_32(ADC_BASE + 0x14)
#define ADC_CHSELR REGISTER_32(ADC_BASE + 0x28)
#define ADC_DR REGISTER_32(ADC_BASE + 0x40)
#define ADC_CALFACT REGISTER_32(ADC_BASE + 0xB4)

/* GPIO Registers */

#define GPIOA_BASE 0x50000000
#define GPIOB_BASE 0x50000400

#define GPIOX_BASE(x) ((x) == 'A' ? GPIOA_BASE  \
                       : GPIOB_BASE)

#define GPIOX_MODER(x) REGISTER_32(GPIOX_BASE(x) + 0x00)
#define GPIOX_OTYPER(x) REGISTER_32(GPIOX_BASE(x) + 0x04)
#define GPIOX_PUPDR(x) REGISTER_32(GPIOX_BASE(x) + 0x0C)
#define GPIOX_IDR(x) REGISTER_32(GPIOX_BASE(x) + 0x10)
#define GPIOX_ODR(x) REGISTER_32(GPIOX_BASE(x) + 0x14)
#define GPIOX_AFRL(x) REGISTER_32(GPIOX_BASE(x) + 0x20)
#define GPIOX_AFRH(x) REGISTER_32(GPIOX_BASE(x) + 0x24)

/* I2C1 Registers */

#define I2C1_BASE 0x40005400
#define I2C1_CR1 REGISTER_32(I2C1_BASE + 0x00)
#define I2C1_CR2 REGISTER_32(I2C1_BASE + 0x04)
#define I2C1_TIMINGR REGISTER_32(I2C1_BASE + 0x10)
#define I2C1_ISR REGISTER_32(I2C1_BASE + 0x18)
#define I2C1_ICR REGISTER_32(I2C1_BASE + 0x1C)
#define I2C1_TXDR REGISTER_32(I2C1_BASE + 0x28)

/* NVIC Registers */

#define NVIC_BASE 0xE000E100
#define NVIC_ISER REGISTER_32(NVIC_BASE + 0x00)

/* RCC Registers */

#define RCC_BASE 0x40021000
#define RCC_IOPENR REGISTER_32(RCC_BASE + 0x34)
#define RCC_APBENR1 REGISTER_32(RCC_BASE + 0x3C)
#define RCC_APBENR2 REGISTER_32(RCC_BASE + 0x40)

/* SYSCFG Registers */

#define SYSCFG_BASE 0x40010000
#define SYSCFG_CFGR1 REGISTER_32(SYSCFG_BASE + 0x00)
#define SYSCFG_CFGR3 REGISTER_32(SYSCFG_BASE + 0x3C)

/* System Control Register */

#define SCR REGISTER_32(0xE000ED10)

/* TIM14 Registers */

#define TIM14_BASE 0x40002000
#define TIM14_CR1 REGISTER_16(TIM14_BASE + 0x00)
#define TIM14_DIER REGISTER_16(TIM14_BASE + 0x0C)
#define TIM14_SR REGISTER_16(TIM14_BASE + 0x10)
#define TIM14_PSC REGISTER_16(TIM14_BASE + 0x28)
#define TIM14_ARR REGISTER_16(TIM14_BASE + 0x2C)

#endif
